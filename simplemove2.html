<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>拖动</title>
<style type="text/css">
body{
	position:relative;
	padding: 0;
	margin: 0;
}

#box{
	left: 300px;
	top: 100px;
	width: 200px;
	height: 200px;
	background-color: red;
	position: absolute;
	font-size: 24px;
	
	
}
#login{
	width: 100%;
	height: 80px;
	background-color: blue;
	text-align: center;
	line-height: 80px;
}	
</style>
</head>
<body>
	<div id="box">
		<div id="login">简单拖动</div>
	</div>
<script type="text/javascript">
		window.onload=function(){
			var login=document.getElementById('login');
			login.onmousedown=fmove;
			function fmove(event){
				
					event=event||window.event;
					var box=document.getElementById('box'),
					
						difL=event.clientX-box.offsetLeft,
					 	difT=event.clientY-box.offsetTop;
						document.onmousemove=function fmove1(event){
					 	event=event||window.event;
					 	var box=document.getElementById('box'),
					 		left=event.clientX-difL,
					 		top=event.clientY-difT,
					 		maxW=document.documentElement.clientWidth||document.body.clientWidth;
					 		maxH=document.documentElement.clientHeight||document.body.clientHeight;
					 		if(left<0){
					 			left=0;
					 		} else if(left>maxW-box.clientWidth){
					 			left=maxW-box.clientWidth;
					 		}
					 		if(top<0){
					 			top=0;
					 		} else if(top>maxH-box.clientHeight){
					 			top=maxH-box.clientHeight;
					 		}

					
						box.style.left=left+"px";
						box.style.top=top+"px";
					}
				
				
				document.onmouseup=function (){
					document.onmousemove=null;
					document.onmouseup=null;
				}

			}

		}
</script>

</body>
</html>